
@{
    ViewData["Title"] = "CookiesNotice";
}

@{
    bool isCookiesAccepted = ViewBag.IsCookiesAccepted ?? false;
}

@if(!isCookiesAccepted)
{
   <div id="cookie-notice" class="cookie-notice">
        <p>This website uses cookies to ensure you get the best experience. <a href="/privacy-policy">Learn more</a></p>
        <button id="accept-cookies-btn">Accept Cookies</button>
   </div>
}
<script>
    // JavaScript to handle the cookie consent button click
    document.getElementById('accept-cookies-btn').onclick = function() {
        // Set the cookie when accepted
        document.cookie = "cookiesConsent=true; path=/; max-age=" + 60 * 60 * 24 * 365 + "; Secure; SameSite=Lax";

        // Hide the notice
        document.getElementById('cookie-notice').style.display = 'none';

        // Optionally, call an action to confirm the acceptance (if needed)
        fetch('/Home/AcceptCookies', { method: 'POST' });
    };
</script>
